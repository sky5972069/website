{"version":3,"sources":["img/yedou3.png","img/date.jpg","img/blackremu.jpg","img/g.jpg","img/aisi.jpg","img/station.png","img/sanjiu.gif","img/loadingbread.gif","components/Navbar.js","components/Headline.js","components/MainCharts.js","components/Collections.js","components/TransAmap.js","components/PowerCharts.js","components/Forum.js","query.js","components/Login.js","components/Blogs.js","components/CreateBlog.js","App.js","index.js"],"names":["module","exports","navLink","color","padding","NavbarCom","Navbar","bg","id","fixed","Brand","href","Toggle","aria-controls","Collapse","Nav","className","Link","as","style","to","Headline","window","onload","DEFAULT_TIMELINE","repeat","yoyo","DEFAULT_ANIM_PARAMS","duration","ease","gsap","timeline","rotate","transformOrigin","x","y","scaleY","sheild","CSSRulePlugin","getRule","right","set","zIndex","left","light","background","Row","Col","MainChart","scrollTop","useState","currentScrollClass","setCurrentScrollClass","documentHeight","document","body","clientHeight","useEffect","md","yedouBg","require","dateBg","blackremuBg","hugBg","aisiBg","currentPage","Collections","setInterval","querySelectorAll","forEach","p","onClick","e","preventDefault","rightClicked","leftClicked","Card","Img","src","alt","ImgOverlay","Title","Text","addStationSchema","yup","longitude","required","latitude","capacity","stationMark","TransAmap","position","markers","setMarkers","Loading","height","width","display","justifyContent","alignItems","MarkerImg","onMouseOver","target","cursor","onMouseDown","mousedown","leaveDroppable","elem","boxShadow","event","console","log","currentDroppable","newMarker","createElement","moveAt","pageX","pageY","offsetWidth","top","offsetHeight","onMouseMove","hidden","elemBelow","elementFromPoint","clientX","clientY","droppableBelow","closest","append","addEventListener","onmouseup","removeEventListener","dropBelow","remove","ondragstart","Content","Header","Feed","Event","Label","Date","content","validationSchema","onSubmit","values","initialValues","handleSubmit","handleChange","handleBlur","errors","touched","isValid","Form","noValidate","column","InputGroup","Control","type","placeholder","name","value","onChange","isInvalid","Feedback","tooltip","Button","amapkey","plugins","options","bottom","liteStyle","loading","zoom","render","linesOption","title","text","trigger","legend","data","grid","containLabel","toolbox","feature","saveAsImage","xAxis","boundaryGap","yAxis","series","stack","PowerCharts","activeItem","setActiveItem","handleItemClick","Menu","pointing","secondary","vertical","Item","active","option","Forum","BLOG_DETAILS","gql","ALL_BLOGS","ADD_BLOG","LOGIN","BLOG_ADDED","loginSchema","username","password","registerSchema","min","nickname","Register","setLoginSwitch","Login","loginSwitch","useMutation","onError","error","login","variables","localStorage","setItem","getItem","aria-describedby","defaultBlogs","author","date","likes","ShowBlog","blog","updateObject","deleteObject","Table","Cell","collapsing","Checkbox","toggle","Rating","icon","defaultRating","maxRating","image","Icon","Group","circular","inverted","Subheader","Blogs","history","useHistory","result","useQuery","allBlogs","currentBlogs","compact","celled","HeaderCell","ribbon","Body","sort","a","b","map","key","Footer","colSpan","push","floated","pagination","blogSchema","BlogForm","createBlog","addBlog","back","rows","variant","registerPlugin","Alien","setTimeout","class","App","setScrollTop","onscroll","documentElement","client","useApolloClient","useSubscription","onSubscriptionData","addedBlog","subscriptionData","blogAdded","alert","object","dataInStore","readQuery","query","includes","writeQuery","concat","updateCacheWith","Container","path","MainCharts","authLink","setContext","_","headers","token","authorization","errorLink","graphQLErrors","networkError","message","locations","httpLink","HttpLink","uri","link","from","wsLink","WebSocketLink","reconnect","splitLink","split","definition","getMainDefinition","kind","operation","ApolloClient","cache","InMemoryCache","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.60855d5c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/yedou3.57e71dce.png\";","module.exports = __webpack_public_path__ + \"static/media/date.390c4ffd.jpg\";","module.exports = __webpack_public_path__ + \"static/media/blackremu.81ae5729.jpg\";","module.exports = __webpack_public_path__ + \"static/media/g.aef5b34a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/aisi.352c5f91.jpg\";","module.exports = __webpack_public_path__ + \"static/media/station.d265ea28.png\";","module.exports = __webpack_public_path__ + \"static/media/sanjiu.c934dd7c.gif\";","module.exports = __webpack_public_path__ + \"static/media/loadingbread.6de9f0eb.gif\";","import { Navbar, Nav}  from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport React from 'react';\r\n\r\nconst navLink = {\r\n  color:'#888888',\r\n  padding:'0.25em',\r\n};\r\nconst NavbarCom = () => {\r\n  return (\r\n      <>\r\n      <Navbar bg=\"white\" id='navbar' fixed='top'>\r\n      <Navbar.Brand href=\"/home\">617实验基地</Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n      <Navbar.Collapse id=\"basic-navbar-nav\">\r\n        <Nav className=\"mr-auto\"></Nav>\r\n        <Nav>\r\n          <Nav.Link href=\"/\">主页</Nav.Link>\r\n          {/* <NavDropdown title=\"数据\" id=\"basic-nav-dropdown\" href='#data'>\r\n            <NavDropdown.Item href=\"#\">\r\n              <Link style={navDropdownLink} to=\"/data/power\">电力</Link>\r\n            </NavDropdown.Item>\r\n            <NavDropdown.Item href=\"#\">\r\n              <Link style={navDropdownLink} to=\"/data/transportation\">公交</Link>\r\n            </NavDropdown.Item>\r\n            <NavDropdown.Divider />\r\n            <NavDropdown.Item href=\"#data\">其他</NavDropdown.Item>\r\n          </NavDropdown> */}\r\n          <Nav.Link href=\"/#data\">数据</Nav.Link>\r\n          <Nav.Link href=\"/#forum\">论坛</Nav.Link>\r\n          <Nav.Link href=\"/#collections\">收藏</Nav.Link>\r\n          <Nav.Link href=\"#\"  as=\"span\">\r\n            <Link style={navLink} to=\"/login\">登录</Link>\r\n          </Nav.Link>\r\n        </Nav>\r\n        {/* <Form inline>\r\n          <FormControl type=\"text\" placeholder=\"Search\" className=\"mr-sm-2\" />\r\n          <Button variant=\"outline-success\">搜索</Button>\r\n        </Form> */}\r\n      </Navbar.Collapse>\r\n      </Navbar>\r\n      <div className='navbarRoom'></div>\r\n      </>\r\n  );\r\n};\r\n\r\nexport default NavbarCom;\r\n\r\n","import React from 'react';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport '../css/astronaut.css';\r\n\r\nimport { gsap } from \"gsap\";\r\nimport { CSSRulePlugin } from \"gsap/CSSRulePlugin\";\r\n\r\nconst Headline = () => {\r\n  window.onload = () => {\r\n    let DEFAULT_TIMELINE = { \r\n      repeat: -1,\r\n      yoyo: true\r\n    }\r\n    let DEFAULT_ANIM_PARAMS = {\r\n      duration: 1,\r\n      ease: \"power2.inOut\"\r\n    }\r\n  \r\n    let mainTimeline = gsap.timeline(DEFAULT_TIMELINE);\r\n    mainTimeline.to('.astronaut', { \r\n      duration: 0.5,\r\n      ease:  \"none\",\r\n      rotate: -5\r\n    })\r\n  \r\n  \r\n    // let duration = 1;\r\n    // let ease = \"power2.inOut\";\r\n    \r\n    let rightHand = gsap.timeline(DEFAULT_TIMELINE);\r\n    rightHand.to('.right-hand', {\r\n      ...DEFAULT_ANIM_PARAMS,\r\n      transformOrigin: \"top left\",\r\n      rotate: -60,\r\n      x: '1vw',\r\n      y: '1.125vw',\r\n      scaleY: 1.1,\r\n    })\r\n  \r\n    let leftHand = gsap.timeline(DEFAULT_TIMELINE);\r\n    leftHand.to('.left-hand', {\r\n      ...DEFAULT_ANIM_PARAMS,\r\n      transformOrigin: \"top left\",\r\n      rotate: 35,\r\n      x: '0.245vw',\r\n      y: '-1.25vw'\r\n    });\r\n  \r\n    let rightLeg = gsap.timeline(DEFAULT_TIMELINE);\r\n    rightLeg.to('.right-leg', {\r\n      ...DEFAULT_ANIM_PARAMS,\r\n      transformOrigin: \"top left\",\r\n      rotate: 50,\r\n      y: '-1.67vw'\r\n    })\r\n  \r\n    let leftLeg = gsap.timeline(DEFAULT_TIMELINE);\r\n    leftLeg.to('.left-leg', {\r\n      ...DEFAULT_ANIM_PARAMS,\r\n      transformOrigin: \"top left\",\r\n      rotate: -50,\r\n      y: '1.67vw'\r\n    })\r\n    \r\n    let leftLegTurn = gsap.timeline(DEFAULT_TIMELINE);\r\n    \r\n    leftLegTurn.to('.left-leg .lower-leg', {\r\n      ...DEFAULT_ANIM_PARAMS,\r\n      rotate: 40,\r\n      x: '0.25vw',\r\n      y: '0.3125vw'\r\n    })\r\n    \r\n    let rightLegTurn = gsap.timeline(DEFAULT_TIMELINE);\r\n    rightLegTurn.to('.right-leg .lower-leg', {\r\n      ...DEFAULT_ANIM_PARAMS,\r\n      rotate: 10,\r\n      x: '-0.33vw',\r\n      y: 0\r\n    })\r\n  \r\n    let sheild = CSSRulePlugin.getRule(\".head:before\");\r\n    let shieldAn = gsap.timeline(DEFAULT_TIMELINE);\r\n    shieldAn.to(sheild, {\r\n      ...DEFAULT_ANIM_PARAMS,\r\n      right: '-0.33vw'\r\n      \r\n    })\r\n  \r\n    let backpack = gsap.timeline(DEFAULT_TIMELINE);\r\n    backpack.set('.backpack', {\r\n      zIndex: 4\r\n    }).to('.backpack', {\r\n      left: '2vw',\r\n      ...DEFAULT_ANIM_PARAMS\r\n    });\r\n  \r\n    let emblem = gsap.timeline(DEFAULT_TIMELINE);\r\n    emblem.to('.emblem', {\r\n      left: '3.87vw',\r\n      ...DEFAULT_ANIM_PARAMS\r\n    });\r\n  \r\n    let light = CSSRulePlugin.getRule(\".backpack::before\");\r\n    let blink = gsap.timeline({\r\n      repeat: -1\r\n    })\r\n    blink.to(light, {\r\n      duration: 0.4,\r\n      background: \"#f36476\"\r\n    });\r\n    \r\n   \r\n  }\r\n  \r\n\r\n\r\n  return (\r\n    <>\r\n    <div className='navbarRoom'></div>\r\n      <Row>\r\n        <Col>\r\n          <div className='headline'>\r\n            <h1>欢迎回到617的<br />\r\n              React前端测试营地</h1>\r\n            <p id=\"headlineText\">这里有些React+Bootstrap+奇奇怪怪的东西，<br/>后端同样加入了测试行列！</p>\r\n          </div>\r\n        </Col>\r\n        <Col>\r\n          <div className='astronaut-container'>\r\n            <div className=\"space\">\r\n              <div className=\"moon\"></div>\r\n              <div className=\"astronaut\">\r\n                <div className=\"head\"> </div>\r\n                <div className=\"neck\"> </div> \r\n                <div className=\"body\"> \r\n                  <div className=\"emblem\"> </div>\r\n                </div>\r\n                <div className=\"backpack\"> </div>\r\n                <div className=\"right-hand hand\"> </div>\r\n                <div className=\"left-hand hand\"> </div>\r\n                <div className=\"right-leg leg\">\r\n                  <div className=\"upper-leg\"></div>\r\n                  <div className=\"lower-leg\"></div>\r\n                </div>\r\n                <div className=\"left-leg leg\">\r\n                  <div className=\"upper-leg\"></div>\r\n                  <div className=\"lower-leg\"></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"landing\"></div>\r\n          </div>\r\n        </Col>\r\n        {/* <Col>\r\n        <a className=\"arrow-wrap\" href=\"#content\">\r\n          <span class=\"arrow\"></span>\r\n        </a>\r\n        </Col> */}\r\n      </Row>\r\n    </>\r\n  )\r\n};\r\n\r\nexport default Headline;","import React, { useState, useEffect } from 'react';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport '../css/shadingCard.css'\r\nconst MainChart = ({ scrollTop }) => {\r\n  const [currentScrollClass, setCurrentScrollClass] = useState(['toHide', 'toHide'])\r\n  let documentHeight = document.body.clientHeight;\r\n  useEffect(() => {\r\n    switch(true){\r\n      case(scrollTop>documentHeight/10*1.6):\r\n        setCurrentScrollClass(['toShow','toShow']);\r\n\r\n        break;\r\n      case(scrollTop>documentHeight/10*0.5):\r\n        setCurrentScrollClass(['toShow','toHide']);\r\n        break;\r\n      default:\r\n        setCurrentScrollClass(['toHide','toHide']);\r\n        break;\r\n    };\r\n  }, [scrollTop, documentHeight])\r\n  return(\r\n    <div id='data'>\r\n    <div className={currentScrollClass[0]}>\r\n    <div className='navbarRoom'></div>\r\n    <Row>\r\n      <Col>\r\n      <h2>图表使用echarts~</h2>\r\n      <p>采集到的两方面数据存储及可视化。</p>\r\n      <p>电力包括各时间尺度用电量、功率因数、变电站位置。\r\n      公交包括车站位置、班次、充电桩、车型及相关参数等</p>\r\n      </Col>\r\n    </Row>\r\n    </div>\r\n    <div className={currentScrollClass[1]}>\r\n    <Row>\r\n      <Col md={1}></Col>\r\n      <Col className=\"shadingCard\" md={5}>\r\n          <div id=\"circle\"></div>\r\n          <h2>电力</h2>\r\n          <p>某区域内一定时间内用电负荷状态数据展示及分析。</p>\r\n          <div className=\"content\">\r\n            <Link to=\"/data/power\">电力</Link>\r\n          </div>\r\n      </Col>\r\n      <Col className=\"shadingCard\" md={5}>\r\n          <div id=\"triangle\"></div>\r\n          <h2>公交</h2>\r\n          <p>某区域内公交线路分布及班次安排，配套EV信息。</p>\r\n          <div className=\"content\">\r\n            <Link to=\"/data/transportation\">公交</Link>\r\n          </div>\r\n      </Col>\r\n      <Col md={1}></Col>\r\n\r\n\r\n    </Row>\r\n\r\n    </div>\r\n    </div>\r\n\r\n\r\n  )\r\n};\r\n\r\nexport default MainChart;","import React, { useEffect, useState } from 'react';\r\nimport { Card, Row, Col} from 'react-bootstrap';\r\nimport '../css/slider.css';\r\nconst yedouBg = require(\"../img/yedou3.png\");\r\nconst dateBg = require(\"../img/date.jpg\");\r\nconst blackremuBg = require(\"../img/blackremu.jpg\");\r\nconst hugBg = require(\"../img/g.jpg\");\r\nconst aisiBg = require(\"../img/aisi.jpg\");\r\nlet currentPage = 0\r\nconst Collections = ({ scrollTop }) => {\r\n  const [currentScrollClass, setCurrentScrollClass] = useState(['toHide', 'toHide'])\r\n  let documentHeight = document.body.clientHeight;\r\n\r\n  useEffect(() => {\r\n    switch(true){\r\n      case(scrollTop>documentHeight/10*7):\r\n        setCurrentScrollClass(['toShow','toShow']);\r\n        break;\r\n      case(scrollTop>documentHeight/10*6):\r\n        setCurrentScrollClass(['toShow','toHide']);\r\n        break;\r\n      default:\r\n        setCurrentScrollClass(['toHide','toHide']);\r\n        break;\r\n    };\r\n  }, [scrollTop, documentHeight])\r\n\r\n  const rightClicked = (e) => {\r\n    e.preventDefault();\r\n    ++currentPage;\r\n    const pages = document.querySelectorAll('ul li');\r\n    pages.forEach(p => p.style.left = -(currentPage%5*20)+'%');\r\n  }\r\n\r\n  const leftClicked = (e) => {\r\n    e.preventDefault();\r\n    currentPage = currentPage-1<0?4:currentPage-1;\r\n    const pages = document.querySelectorAll('ul li');\r\n    pages.forEach(p => p.style.left = -(currentPage%5*20)+'%');\r\n  }\r\n\r\n  useEffect(()=>{\r\n    setInterval(()=>{\r\n    ++currentPage;\r\n    const pages = document.querySelectorAll('ul li');\r\n    pages.forEach(p => p.style.left = -(currentPage%5*20)+'%');\r\n  }\r\n  ,10000)}, []);\r\n\r\n  return(\r\n    <div id='collections' className='mainSection'>\r\n    <div className={currentScrollClass[0]}>\r\n    <div className='navbarRoom'></div>\r\n    <Row>\r\n      <Col>\r\n      <h2>我的收藏</h2>\r\n      <p>经典模板网站、热门娱乐、工作收藏、资源站以及兴趣方面</p>\r\n      <p>幻灯片展示，点击前往新标签页搜索外站页面。</p>\r\n      </Col>\r\n    </Row>\r\n    <div className={currentScrollClass[1]}>\r\n      <div id=\"slider\">\r\n        <a href=\"#collections\" className=\"control_next\" onClick={(e) => rightClicked(e)}>&gt;</a>\r\n        <a href=\"#collections\" className=\"control_prev\" onClick={(e) => leftClicked(e)}>&lt;</a>\r\n        <ul>\r\n          <li>\r\n            <Card>\r\n            <Card.Img src={yedouBg} alt=\"Card image\" />\r\n            <Card.ImgOverlay>\r\n              <Card.Title className='cardHead'>模板网站</Card.Title><br/>\r\n              <Card.Text>包括前后端学习网站和特效模板。</Card.Text>\r\n              <Card.Text>Codepen<a href='https://codepen.io/trending'>前往</a></Card.Text>\r\n              <Card.Text>FullStack-React<a href='https://fullstackopen.com/zh/'>前往</a></Card.Text>\r\n              <Card.Text>React-bootstrap<a href='https://react-bootstrap.github.io/'>前往</a></Card.Text>\r\n            </Card.ImgOverlay>\r\n          </Card>\r\n          </li>\r\n          <li>\r\n          <Card>\r\n            <Card.Img src={blackremuBg} alt=\"Card image\" />\r\n            <Card.ImgOverlay>\r\n              <Card.Title>热门娱乐</Card.Title><br/>\r\n              <Card.Text>\r\n                This is a wider card with supporting text below as a natural lead-in to\r\n                additional content. This content is a little bit longer.\r\n              </Card.Text>\r\n              <Card.Text>Last updated 3 mins ago</Card.Text>\r\n            </Card.ImgOverlay>\r\n          </Card>\r\n          </li>\r\n          <li>\r\n            <Card>\r\n              <Card.Img src={aisiBg} alt=\"Card image\" />\r\n              <Card.ImgOverlay>\r\n                <Card.Title>工作相关</Card.Title><br/>\r\n                <Card.Text>\r\n                  This is a wider card with supporting text below as a natural lead-in to\r\n                  additional content. This content is a little bit longer.\r\n                </Card.Text>\r\n                <Card.Text>Last updated 3 mins ago</Card.Text>\r\n              </Card.ImgOverlay>\r\n            </Card>\r\n          </li>\r\n          <li>\r\n            <Card>\r\n              <Card.Img src={dateBg} alt=\"Card image\" />\r\n              <Card.ImgOverlay>\r\n                <Card.Title>其他资源</Card.Title><br/>\r\n                <Card.Text>\r\n                  This is a wider card with supporting text below as a natural lead-in to\r\n                  additional content. This content is a little bit longer.\r\n                </Card.Text>\r\n                <Card.Text>Last updated 3 mins ago</Card.Text>\r\n              </Card.ImgOverlay>\r\n            </Card>\r\n          </li>\r\n          <li>\r\n            <Card>\r\n              <Card.Img src={hugBg} alt=\"Card image\" />\r\n              <Card.ImgOverlay>\r\n                <Card.Title>兴趣相关</Card.Title><br/>\r\n                <Card.Text>\r\n                  This is a wider card with supporting text below as a natural lead-in to\r\n                  additional content. This content is a little bit longer.\r\n                </Card.Text>\r\n                <Card.Text>Last updated 3 mins ago</Card.Text>\r\n              </Card.ImgOverlay>\r\n            </Card>\r\n          </li>\r\n        </ul>  \r\n      </div>\r\n      </div>\r\n      <h2>ending~</h2>\r\n      </div>\r\n\r\n    </div>\r\n\r\n\r\n  )\r\n};\r\n\r\nexport default Collections;","import React, { useState } from 'react';\r\nimport { Map, Markers } from 'react-amap';\r\nimport { Form, Button, InputGroup } from 'react-bootstrap';\r\nimport { Card, Feed } from 'semantic-ui-react';\r\nimport { Formik } from 'formik';\r\nimport * as yup from 'yup';\r\n\r\nconst addStationSchema = yup.object({\r\n  longitude: yup.number().required(),\r\n  latitude: yup.number().required(),\r\n  capacity: yup.number().required(),\r\n});\r\n\r\nconst stationMark = require('../img/station.png');\r\n\r\n\r\nconst TransAmap = () => {\r\n  const[markers, setMarkers] = useState([{position:{longitude: 121.7, latitude: 31.1}}, {position:{longitude: 121.75, latitude: 30.9}}]);\r\n  const plugins = [\r\n    'MapType',\r\n    'Scale',\r\n    'OverView',\r\n    // 'ControlBar', // v1.1.0 新增\r\n    {\r\n      name: 'ControlBar',\r\n      options: {\r\n        position:{\r\n          bottom:'0px',\r\n          right:'0px',\r\n        }\r\n      },\r\n    },\r\n    {\r\n      name: 'ToolBar',\r\n      options: {\r\n        liteStyle: false,\r\n        position:{\r\n          top:'10px',\r\n          left: '-10px',\r\n        }\r\n      },\r\n    }\r\n  ];\r\n  const loadingStyle = {\r\n    position: 'relative',\r\n    height: '100%',\r\n    width: '100%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center'\r\n  };\r\n  const Loading = <div style={loadingStyle}>Loading Map...</div>;\r\n  const addStation = (values) => {\r\n    let newMarker = {position: {longitude: values.longitude, latitude: values.latitude}};\r\n    setMarkers([...markers, newMarker]);\r\n  };\r\n\r\n  const renderMarkerLayout = () => {\r\n    return <div className='markerIcon'></div>\r\n  }\r\n\r\n  const MarkerImg = () => (\r\n    <img id='stationMark' alt='stationMark' src={stationMark} onMouseOver={(e)=>{e.target.style.cursor='pointer'}}\r\n    onMouseDown ={mousedown} width=\"40px\" height=\"40px\"/>\r\n  )\r\n\r\n  function enterDroppable(elem) {\r\n    elem.style.boxShadow = '0px 0px 5px #bbbbbb';\r\n  }\r\n\r\n  function leaveDroppable(elem) {\r\n    elem.style.boxShadow = '';\r\n  }\r\n\r\n\r\n  const mousedown = function(event) {\r\n    // (1) 准备移动：确保 absolute，并通过设置 z-index 以确保球在顶部\r\n    console.log(1);\r\n    let currentDroppable = null;\r\n    // 将其从当前父元素中直接移动到 body 中\r\n    // 以使其定位是相对于 body 的\r\n    \r\n    const newMarker = document.createElement('img');\r\n    newMarker.src=stationMark;\r\n    newMarker.onMouseOver=((e)=>{e.target.style.cursor='pointer'});\r\n    newMarker.style.width='40px';\r\n    newMarker.style.height = '40px';\r\n    document.body.append(newMarker);\r\n    newMarker.style.position = 'absolute';\r\n    newMarker.style.zIndex = 1000;\r\n    newMarker.style.cursor = 'pointer';\r\n    console.log(newMarker);\r\n    console.log(newMarker.offsetWidth);\r\n    console.log(event.pageX);\r\n    // 现在球的中心在 (pageX, pageY) 坐标上\r\n    function moveAt(pageX, pageY) {\r\n      newMarker.style.left = pageX - newMarker.offsetWidth / 2 + 'px';\r\n      newMarker.style.top = pageY - newMarker.offsetHeight / 2 + 'px';\r\n    }\r\n  \r\n    // 将我们绝对定位的球移到指针下方\r\n    moveAt(event.pageX, event.pageY);\r\n  \r\n    function onMouseMove(event) {\r\n      moveAt(event.pageX, event.pageY);\r\n    \r\n      newMarker.hidden = true;\r\n      let elemBelow = document.elementFromPoint(event.clientX, event.clientY);\r\n      newMarker.hidden = false;\r\n    \r\n      // mousemove 事件可能会在窗口外被触发（当球被拖出屏幕时）\r\n      // 如果 clientX/clientY 在窗口外，那么 elementfromPoint 会返回 null\r\n      if (!elemBelow) return;\r\n    \r\n      // 潜在的 droppable 的元素被使用 \"droppable\" 类进行标记（也可以是其他逻辑）\r\n      let droppableBelow = elemBelow.closest('.droppable');\r\n    \r\n      if (currentDroppable !== droppableBelow) {\r\n        // 我们正在飞入或飞出...\r\n        // 注意：它们两个的值都可能为 null\r\n        //   currentDroppable=null —— 如果我们在此事件之前，鼠标指针不是在一个 droppable 的元素上（例如空白处）\r\n        //   droppableBelow=null —— 如果现在，在当前事件中，我们的鼠标指针不是在一个 droppable 的元素上\r\n    \r\n        if (currentDroppable) {\r\n          // 处理“飞出” droppable 的元素时的处理逻辑（移除高亮）\r\n          leaveDroppable(currentDroppable);\r\n        }\r\n        currentDroppable = droppableBelow;\r\n        if (currentDroppable) {\r\n          // 处理“飞入” droppable 的元素时的逻辑\r\n          enterDroppable(currentDroppable);\r\n        }\r\n      }\r\n    }\r\n  \r\n    // (2) 在 mousemove 事件上移动球\r\n    document.addEventListener('mousemove', onMouseMove);\r\n  \r\n    // (3) 放下球，并移除不需要的处理程序\r\n    newMarker.onmouseup = function(event) {\r\n      document.removeEventListener('mousemove', onMouseMove);\r\n      newMarker.hidden = true;\r\n      let dropBelow = document.elementFromPoint(event.clientX, event.clientY).closest('.droppable');\r\n      newMarker.hidden = false;\r\n      if (dropBelow) {\r\n        leaveDroppable(dropBelow)\r\n      } else {\r\n        newMarker.remove();\r\n      }\r\n\r\n      newMarker.onmouseup = null;\r\n    };\r\n    newMarker.ondragstart = function() {\r\n      return false;\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <div className='amap'>\r\n        <Card className='amapCard'>\r\n          <Card.Content className='amapCardTitle'>\r\n            <Card.Header>添加站点</Card.Header>\r\n          </Card.Content>\r\n          <Card.Content>\r\n            <Feed>\r\n              <Feed.Event>\r\n                <Feed.Label id='markerLabel'>\r\n                  <MarkerImg />\r\n                </Feed.Label>\r\n                <Feed.Content>\r\n                  <Feed.Date content='1 day ago' />\r\n                    <Formik\r\n                      validationSchema={addStationSchema}\r\n                      onSubmit={addStation}\r\n                      initialValues={{\r\n                        longitude: 121.6,\r\n                        latitude: 31,\r\n                        capacity: 10,\r\n                      }}\r\n                    >\r\n                      {({\r\n                        handleSubmit,\r\n                        handleChange,\r\n                        handleBlur,\r\n                        values,\r\n                        touched,\r\n                        isValid,\r\n                        errors,\r\n                      }) => (\r\n                      <Form noValidate onSubmit={handleSubmit} className='amapForm'>\r\n                        <Form.Label column className='amapCardLabel'>经度</Form.Label>\r\n                        <InputGroup>\r\n                          <Form.Control\r\n                            type=\"float\"\r\n                            placeholder=\"...\"\r\n                            name=\"longitude\"\r\n                            value={values.longitude}\r\n                            onChange={handleChange}\r\n                            isInvalid={!!errors.longitude}\r\n                          />\r\n                          <Form.Control.Feedback type='invalid' tooltip>{errors.longitude}</Form.Control.Feedback>\r\n                        </InputGroup>\r\n                        <Form.Label column className='amapCardLabel'>纬度</Form.Label>\r\n                        <InputGroup>\r\n                          <Form.Control\r\n                            type=\"float\"\r\n                            placeholder=\"...\"\r\n                            name=\"latitude\"\r\n                            value={values.latitude}\r\n                            onChange={handleChange}\r\n                            isInvalid={!!errors.latitude}\r\n                          />\r\n                          <Form.Control.Feedback type='invalid' tooltip>{errors.latitude}</Form.Control.Feedback>\r\n                        </InputGroup>\r\n                        <Form.Label column className='amapCardLabel'>容量</Form.Label>\r\n                        <InputGroup>\r\n                          <Form.Control\r\n                            type=\"float\"\r\n                            placeholder=\"...\"\r\n                            name=\"capacity\"\r\n                            value={values.capacity}\r\n                            onChange={handleChange}\r\n                            isInvalid={!!errors.capacity}\r\n                          />\r\n                          <Form.Control.Feedback type='invalid' tooltip>{errors.capacity}</Form.Control.Feedback>\r\n                        </InputGroup>\r\n                        <Button type='submit'>添加</Button>\r\n                      </Form>)}\r\n                    </Formik>\r\n                  \r\n                </Feed.Content>\r\n              </Feed.Event>\r\n            </Feed>\r\n          </Card.Content>\r\n        </Card>\r\n      <div id='gaodeMap' className='droppable' style={{width: '950px', height: '530px'}}>\r\n        <Map amapkey='53afe5f7906c4ed3a53b25273f29cd59' plugins={plugins} loading={Loading}\r\n          zoom={15}>\r\n            <Markers\r\n             markers={markers}\r\n             render={renderMarkerLayout} />\r\n          </Map>\r\n      </div>\r\n      {/* <p>Icons made by <a href=\"https://www.flaticon.com/free-icon/gas-station_1397882?term=station&page=4&position=61\" title=\"turkkub\">turkkub</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\"> www.flaticon.com</a></p> */}\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default TransAmap;\r\n","import React, { useState } from 'react';\r\n\r\nimport { Menu } from 'semantic-ui-react';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport ReactEcharts from 'echarts-for-react';\r\n\r\n\r\nlet linesOption = {\r\n    title: {\r\n        text: '折线图堆叠'\r\n    },\r\n    tooltip: {\r\n        trigger: 'axis'\r\n    },\r\n    legend: {\r\n        data: ['邮件营销', '联盟广告', '视频广告', '直接访问', '搜索引擎']\r\n    },\r\n    grid: {\r\n        left: '3%',\r\n        right: '4%',\r\n        bottom: '3%',\r\n        containLabel: true\r\n    },\r\n    toolbox: {\r\n        feature: {\r\n            saveAsImage: {}\r\n        }\r\n    },\r\n    xAxis: {\r\n        type: 'category',\r\n        boundaryGap: false,\r\n        data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日']\r\n    },\r\n    yAxis: {\r\n        type: 'value'\r\n    },\r\n    series: [\r\n        {\r\n            name: '邮件营销',\r\n            type: 'line',\r\n            stack: '总量',\r\n            data: [120, 132, 101, 134, 90, 230, 210]\r\n        },\r\n        {\r\n            name: '联盟广告',\r\n            type: 'line',\r\n            stack: '总量',\r\n            data: [220, 182, 191, 234, 290, 330, 310]\r\n        },\r\n        {\r\n            name: '视频广告',\r\n            type: 'line',\r\n            stack: '总量',\r\n            data: [150, 232, 201, 154, 190, 330, 410]\r\n        },\r\n        {\r\n            name: '直接访问',\r\n            type: 'line',\r\n            stack: '总量',\r\n            data: [320, 332, 301, 334, 390, 330, 320]\r\n        },\r\n        {\r\n            name: '搜索引擎',\r\n            type: 'line',\r\n            stack: '总量',\r\n            data: [820, 932, 901, 934, 1290, 1330, 1320]\r\n        }\r\n    ]\r\n};\r\n\r\nconst PowerCharts = () => {\r\n  const [activeItem, setActiveItem] = useState('电站分布');\r\n\r\n  const handleItemClick = (e, { name }) => setActiveItem(name);\r\n\r\n  return (\r\n    <div className='powerPage'>\r\n      <Menu pointing secondary vertical>\r\n        <Menu.Item\r\n          name='电站分布'\r\n          active={activeItem === '电站分布'}\r\n          onClick={handleItemClick}\r\n        />\r\n        <Menu.Item\r\n          name='变电站负荷'\r\n          active={activeItem === '变电站负荷'}\r\n          onClick={handleItemClick}\r\n        />\r\n        <Menu.Item\r\n          name='有序充电'\r\n          active={activeItem === '有序充电'}\r\n          onClick={handleItemClick}\r\n        />\r\n      </Menu>\r\n      {activeItem==='电站分布'?\r\n      (<div className='powerCharts'>\r\n        <Row>\r\n          <Col>\r\n          <ReactEcharts\r\n            option={linesOption}\r\n            style={{height:'220px',width:'100%'}}\r\n          ></ReactEcharts>   \r\n          </Col>\r\n          <Col>\r\n          <ReactEcharts\r\n            option={linesOption}\r\n            style={{height:'220px',width:'100%'}}\r\n          ></ReactEcharts>   \r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n          <ReactEcharts\r\n            option={linesOption}\r\n            style={{height:'220px',width:'100%'}}\r\n          ></ReactEcharts>   \r\n          </Col>\r\n          <Col>\r\n          <ReactEcharts\r\n            option={linesOption}\r\n            style={{height:'220px',width:'100%'}}\r\n          ></ReactEcharts>   \r\n          </Col>\r\n        </Row>\r\n\r\n      </div>):\r\n      activeItem==='变电站负荷'?\r\n      (<div className='powerCharts'>\r\n      <ReactEcharts\r\n        option={linesOption}\r\n        style={{height:'220px',width:'100%'}}\r\n      ></ReactEcharts>\r\n    </div>):\r\n      (<div></div>)\r\n}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\nexport default PowerCharts;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport '../css/forum.css';\r\nconst Forum = ({ scrollTop }) => {\r\n  const [currentScrollClass, setCurrentScrollClass] = useState(['toHide', 'toHide'])\r\n  let documentHeight = document.body.clientHeight;\r\n\r\n  useEffect(() => {\r\n    switch(true){\r\n      case(scrollTop>documentHeight/10*3.6):\r\n        setCurrentScrollClass(['toShow','toShow']);\r\n        break;\r\n      case(scrollTop>documentHeight/10*2.5):\r\n        setCurrentScrollClass(['toShow','toHide']);\r\n        break;\r\n      default:\r\n        setCurrentScrollClass(['toHide','toHide']);\r\n        break;\r\n    };\r\n  }, [scrollTop,documentHeight])\r\n\r\n  return(\r\n    <div id='forum' className='mainSection'>\r\n      <div className={currentScrollClass[0]}>\r\n        <div className='navbarRoom'></div>\r\n        <Row>\r\n          <Col>\r\n          <h2>论坛模块</h2>\r\n          <p>用户登录后可以发表、查看、点赞、评论博客。</p>\r\n          <p>用户间可以私聊。</p>\r\n          </Col>\r\n        </Row>\r\n        </div>\r\n      <div className={currentScrollClass[1]}>\r\n      <Row>\r\n        <Col>\r\n        <div className=\"forum\">\r\n            <figure className=\"forum_figure\">\r\n                <img src=\"https://source.unsplash.com/qXMpNtNp1uE/300x510\" alt=\"dog here\" className=\"forum_picture\" />\r\n                <figcaption className=\"card_caption\">\r\n                    <h2 className=\"forum_title\">Blogs</h2>\r\n                    <p className=\"forum_snippet\">617 and 219 publish blogs.</p>\r\n                    <Link to=\"/blogs\" className=\"forum_button\">Read more</Link>\r\n                </figcaption>\r\n            </figure>\r\n        </div>\r\n        </Col>\r\n        <Col>\r\n        <div className=\"forum\">\r\n            <figure className=\"forum_figure\">\r\n                <img src=\"https://source.unsplash.com/71u2fOofI-U/300x510\" alt=\"forum\" className=\"card__image\" />\r\n                <figcaption className=\"forum_caption\">\r\n                    <h2 className=\"forum_title\">Forum</h2>\r\n                    <p className=\"forum_snippet\">Public discussions.</p>\r\n                    <Link to=\"/forum\" className=\"forum_button\">Read more</Link>\r\n                </figcaption>\r\n            </figure>\r\n        </div>\r\n        </Col>\r\n        <Col>\r\n        <div className=\"forum\">\r\n            <figure className=\"forum_figure\">\r\n                <img src=\"https://source.unsplash.com/75S9fpDJVdo/300x510\" alt=\"hotpot\" className=\"card__image\" />\r\n                <figcaption className=\"forum_caption\">\r\n                    <h2 className=\"forum_title\">Hotpot</h2>\r\n                    <p className=\"forum_snippet\">Hottest titles.</p>\r\n                    <Link to=\"/hotpot\" className=\"forum_button\">Read more</Link>\r\n                </figcaption>\r\n            </figure>\r\n        </div>\r\n        </Col>\r\n      </Row>\r\n      </div>\r\n      \r\n\r\n\r\n\r\n    </div>\r\n\r\n\r\n\r\n\r\n  )\r\n\r\n\r\n}\r\n\r\n\r\nexport default Forum;","import { gql } from '@apollo/client'\r\n\r\nconst BLOG_DETAILS = gql`\r\n  fragment BlogDetails on Blog {\r\n    title\r\n    content\r\n    user{\r\n        nickname\r\n    }\r\n    date\r\n    likes\r\n}\r\n`\r\n\r\n\r\n\r\n\r\nexport const ALL_BLOGS = gql`\r\n    query {\r\n        allBlogs  {\r\n            ...BlogDetails\r\n    }\r\n}\r\n${BLOG_DETAILS}\r\n`\r\n\r\nexport const ADD_BLOG = gql`\r\n    mutation addBlog($title:String!, $content:String) {\r\n        addBlog(\r\n            title: $title,\r\n            content: $content,\r\n        ) {\r\n            title\r\n            date\r\n            content\r\n            user{\r\n                nickname\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\n\r\nexport const SET_BIRTHDAY = gql`\r\n    mutation editAuthor($name:String!, $setBornTo:Int!) {\r\n        editAuthor(name:$name, setBornTo:$setBornTo) {\r\n            name\r\n            born\r\n        }\r\n    }\r\n`\r\n\r\nexport const LOGIN = gql`\r\n    mutation login($username:String!, $password:String!) {\r\n        login(username:$username, password:$password) {\r\n            value\r\n        }\r\n    }\r\n`\r\n\r\n\r\nexport const SELECT_BOOKS = gql`\r\n    query allBooks($author:String, $genre:String) {\r\n        allBooks(author:$author, genre:$genre) {\r\n            ...BlogDetails\r\n        }\r\n    }\r\n${BLOG_DETAILS}\r\n`\r\n\r\nexport const ME = gql`\r\n    query me($username: String!) {\r\n        me(username:$username) {\r\n            username\r\n            favouriteGenre\r\n        }\r\n    }\r\n`\r\n\r\n\r\nexport const BLOG_ADDED = gql`\r\n  subscription {\r\n    blogAdded {\r\n        ...BlogDetails\r\n  }\r\n}\r\n${BLOG_DETAILS}\r\n`","import React, { useState }  from 'react';\r\nimport { LOGIN } from '../query';\r\nimport { useMutation } from '@apollo/client';\r\nimport { Form, Button, Row, Col, InputGroup } from 'react-bootstrap';\r\nimport { Formik } from 'formik';\r\nimport * as yup from 'yup';\r\n\r\nconst loginSchema = yup.object({\r\n  username: yup.string().required(),\r\n  password: yup.string().required(),\r\n});\r\n\r\nconst registerSchema = yup.object({\r\n  username: yup.string().required().min(3),\r\n  password: yup.string().required().min(6),\r\n  nickname: yup.string(),\r\n});\r\n\r\nconst Register = ({ setLoginSwitch }) => {\r\n  const registerSubmit = () => {\r\n    setLoginSwitch('login')\r\n  }\r\n  return (\r\n    <Col md={5}>\r\n      <h3>注册</h3>\r\n      <Formik\r\n        validationSchema={registerSchema}\r\n        onSubmit={registerSubmit}\r\n        initialValues={{\r\n          username: '',\r\n          password: '',\r\n          nickname: '',\r\n        }}\r\n      >\r\n        {({\r\n          handleSubmit,\r\n          handleChange,\r\n          handleBlur,\r\n          values,\r\n          touched,\r\n          isValid,\r\n          errors,\r\n        }) => (\r\n        <Form noValidate onSubmit={handleSubmit}>\r\n          <Form.Label>用户名</Form.Label>\r\n          <InputGroup>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"...\"\r\n              name=\"username\"\r\n              value={values.username}\r\n              onChange={handleChange}\r\n              isInvalid={!!errors.username}\r\n            />\r\n            <Form.Control.Feedback type='invalid' tooltip>{errors.username}</Form.Control.Feedback>\r\n          </InputGroup>\r\n          <Form.Label>昵称</Form.Label>\r\n          <InputGroup>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"...\"\r\n              name=\"nickname\"\r\n              value={values.nickname}\r\n              onChange={handleChange}\r\n              isInvalid={!!errors.nickname}\r\n            />\r\n            <Form.Control.Feedback type='invalid' tooltip>{errors.nickname}</Form.Control.Feedback>\r\n          </InputGroup>\r\n          <Form.Label>密码</Form.Label>\r\n          <InputGroup>\r\n            <Form.Control\r\n              type=\"password\"\r\n              placeholder=\"...\"\r\n              name=\"password\"\r\n              value={values.password}\r\n              onChange={handleChange}\r\n              isInvalid={!!errors.password}\r\n            />\r\n            <Form.Control.Feedback type='invalid' tooltip>{errors.password}</Form.Control.Feedback>\r\n          </InputGroup>\r\n          <br/>\r\n          <Button type=\"submit\">提交</Button>\r\n        </Form>\r\n        )}\r\n      </Formik>\r\n    </Col>\r\n  )\r\n}\r\n\r\n\r\n\r\nconst Login = () => {\r\n  const [loginSwitch, setLoginSwitch] = useState('login');\r\n  const [ login, result ] = useMutation(LOGIN, {\r\n    onError: (error) => {\r\n        console.log(error)\r\n      }, \r\n  });\r\n  const submit = (values) => {\r\n    console.log(values);\r\n    login({  variables: { username: values.username, password: values.password } });\r\n    localStorage.setItem('user', values.username);\r\n    console.log(localStorage.getItem('user'));\r\n  };\r\n  return (\r\n    <div className='formDiv'>\r\n    <Row>\r\n    <Col>\r\n      <img id='sanjiuLogin' src={require('../img/sanjiu.gif')} alt='welcome' />\r\n    </Col>\r\n    {\r\n      loginSwitch === 'login'?\r\n      ( <Col md={5}>\r\n        <h3>登录</h3>\r\n        <Formik\r\n        validationSchema={loginSchema}\r\n        onSubmit={submit}\r\n        initialValues={{\r\n          username: '219',\r\n          password: '',\r\n        }}\r\n      >\r\n        {({\r\n          handleSubmit,\r\n          handleChange,\r\n          handleBlur,\r\n          values,\r\n          touched,\r\n          isValid,\r\n          errors,\r\n        }) => (\r\n          <Form noValidate onSubmit={handleSubmit}>\r\n            <Form.Label>Username</Form.Label>\r\n            <InputGroup>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"用户名..\"\r\n                name=\"username\"\r\n                value={values.username}\r\n                onChange={handleChange}\r\n                isInvalid={!!errors.username}\r\n              />\r\n              <Form.Control.Feedback type='invalid' tooltip>{errors.username}</Form.Control.Feedback>\r\n            </InputGroup>\r\n              <Form.Label>Password</Form.Label>\r\n              <InputGroup>\r\n                <Form.Control\r\n                  type=\"password\"\r\n                  placeholder=\"密码..\"\r\n                  aria-describedby=\"inputGroupPrepend\"\r\n                  name=\"password\"\r\n                  value={values.password}\r\n                  onChange={handleChange}\r\n                  isInvalid={!!errors.password}\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\" tooltip>\r\n                  {errors.password}\r\n                </Form.Control.Feedback>\r\n              </InputGroup>\r\n            <br/>\r\n            <Button type=\"submit\">登录</Button>\r\n            <Button type=\"button\" onClick={()=>setLoginSwitch('register')}>注册</Button>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n      </Col>):\r\n      <Register setLoginSwitch={setLoginSwitch}/>\r\n    }\r\n    \r\n    <Col md={1}></Col>\r\n    </Row>\r\n    </div>\r\n  )\r\n  }\r\n  \r\n\r\n\r\n\r\n\r\n\r\n\r\n// const Login = ({ setToken, setPage, setUser }) => {\r\n//     const [username, setUsername] = useState('')\r\n//     const [password, setPassword] = useState('')\r\n//     const [ login, result ] = useMutation(LOGIN, {\r\n//         onError: (error) => {\r\n//             console.log(error)\r\n//           }, \r\n//     })\r\n\r\n//     useEffect(() => {\r\n//         if (result.data) {\r\n//             const token = result.data.login.value\r\n//             setToken(token)\r\n//             localStorage.setItem('token', token)\r\n//             setPage('authors')\r\n//         }\r\n//     },[result.data, setPage, setToken])\r\n\r\n//     const submit = (e) => {\r\n//         e.preventDefault()\r\n//         login({  variables: { username, password } })\r\n//         localStorage.setItem('user', username)\r\n//         setUser(username)\r\n//         console.log(localStorage.getItem('user'))\r\n//         setUsername('')\r\n//         setPassword('')\r\n//     }\r\n//     const schema = yup.object({\r\n//         username: yup.string().required(),\r\n//         password: yup.string().required(),\r\n//       });\r\n\r\n\r\n//     return (\r\n//         <Formik\r\n//             validationSchema={schema}\r\n//             onSubmit={console.log}\r\n//             initialValues={{\r\n//             username: '',\r\n//             password: '',\r\n//             }}\r\n//         >\r\n//             {({       \r\n//                 handleSubmit,\r\n//                 handleChange,\r\n//                 handleBlur,\r\n//                 values,\r\n//                 touched,\r\n//                 isValid,\r\n//                 errors,\r\n//             }) => {\r\n//                 console.log(values)\r\n//                 console.log(errors)\r\n//                 return(\r\n//             <Form noValidate onSubmit={handleSubmit}>\r\n//                 <Form.Group controlId=\"formBasicUsername\">\r\n//                     <Form.Label>name:</Form.Label>\r\n//                     <Form.Control type=\"text\" placeholder=\"用户名..\" name=\"username\"\r\n//                     value={values.username} onChange = {handleChange}\r\n//                     isInvalid={!!errors.username}/>\r\n//                     <Form.Control.Feedback type=\"invalid\">\r\n//                         ?????\r\n//                     </Form.Control.Feedback>\r\n//                 </Form.Group>\r\n//                 <Form.Group controlId=\"formBasicPassword\">\r\n//                     <Form.Label>password:</Form.Label>\r\n//                     <Form.Control type=\"password\" placeholder=\"密码..\" name=\"firstName\"\r\n//                     value={password} onChange = {({target}) => setPassword(target.value)}/>\r\n//                 </Form.Group>\r\n//                 <Button variant=\"primary\" type=\"submit\">login</Button>\r\n//             </Form>)}}\r\n//         </Formik>\r\n//     )}\r\n\r\n\r\nexport default Login\r\n","import React from 'react'\r\nimport { Icon, Label, Menu, Table, Rating, Checkbox, Header, Button } from 'semantic-ui-react'\r\nimport { ALL_BLOGS } from '../query';\r\nimport { useQuery } from '@apollo/client';\r\nimport 'semantic-ui-css/semantic.css';\r\nimport {\r\n  useHistory\r\n} from 'react-router-dom';\r\n\r\nconst defaultBlogs = [\r\n  {\r\n    title:'no data!',\r\n    author:'617',\r\n    date:'2020-01-01',\r\n    likes:99999,\r\n    content:'nothing here.'\r\n  }\r\n];\r\n\r\n\r\nconst ShowBlog = ({ blog, updateObject, deleteObject }) => {\r\n  // const [visible, setVisible] = useState(false)\r\n\r\n  // const blogStyle = {\r\n  //   padding: 5,\r\n  //   border: 'solid',\r\n  //   borderWidth: 1,\r\n  //   marginBottom: 5\r\n  // }\r\n  \r\n  // const updateLike = () => {\r\n  //   const newObject = {\r\n  //     ...blog,\r\n  //     likes: blog.likes+1\r\n  //   }\r\n  //   console.log(newObject)\r\n  //   updateObject(newObject)\r\n  // }\r\n\r\n  // const removeBlog = () => {\r\n  //   if (window.confirm(`Remove ${blog.title} by ${blog.author} ?`)){\r\n  //     deleteObject(blog.id)\r\n  //   }\r\n  // }\r\n\r\n  // const toggleVisibility = () => {\r\n  //   setVisible(!visible)\r\n  // }\r\n  // const hideWhenVisible = { display: visible ? 'none' : '' }\r\n  // const showWhenVisible = { display: visible ? '' : 'none' }\r\n  return (\r\n    <Table.Row>\r\n      <Table.Cell collapsing>\r\n        <Checkbox toggle />\r\n      </Table.Cell>\r\n      <Table.Cell>{blog.title}</Table.Cell>\r\n      <Table.Cell>{blog.date}</Table.Cell>\r\n      <Table.Cell>{blog.likes}</Table.Cell>\r\n      <Table.Cell>\r\n          <Rating icon='star' defaultRating={3} maxRating={3} />\r\n      </Table.Cell>\r\n      <Table.Cell>\r\n          <Header as='h4' image>\r\n          <Icon.Group >\r\n            <Icon circular inverted color='teal' name='user' />\r\n          </Icon.Group>\r\n            <Header.Content>\r\n              617\r\n              <Header.Subheader>Handsome admin</Header.Subheader>\r\n            </Header.Content>\r\n          </Header>\r\n        </Table.Cell>\r\n    </Table.Row> \r\n\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\nconst Blogs = ({ updateObject, deleteObject }) => {\r\n  const history = useHistory();\r\n  const result = useQuery(ALL_BLOGS, \r\n    //   {\r\n    //   pollInterval: 2000\r\n    // }\r\n    )\r\n  const createBlog = () => {\r\n    history.push('/blogs/createBlog');\r\n  }\r\n\r\n\r\n  if(result.loading)  {\r\n    return <div className='mainSection'><Icon loading name='spinner' /></div>;\r\n  }\r\n\r\n  if(!result.data) {\r\n    result.data = {allBlogs: defaultBlogs};\r\n  }\r\n  let currentBlogs = [...result.data.allBlogs];\r\n  return(\r\n  <div className='tableDiv'>\r\n  <Table compact celled>\r\n    <Table.Header>\r\n      <Table.Row>\r\n        <Table.HeaderCell><Label ribbon>标记</Label></Table.HeaderCell>\r\n        <Table.HeaderCell>标题</Table.HeaderCell>\r\n        <Table.HeaderCell>日期</Table.HeaderCell>\r\n        <Table.HeaderCell>赞</Table.HeaderCell>\r\n        <Table.HeaderCell>评分</Table.HeaderCell>\r\n        <Table.HeaderCell>作者</Table.HeaderCell>\r\n      </Table.Row>\r\n    </Table.Header>\r\n    <Table.Body>\r\n      {currentBlogs?\r\n        (currentBlogs.sort((a,b)=> b.likes - a.likes).map(blog =>\r\n        <ShowBlog key={blog.title} blog={blog} updateObject={updateObject} deleteObject={deleteObject}/>)):\r\n        (null)}\r\n    </Table.Body>\r\n    <Table.Footer>\r\n      <Table.Row>\r\n        <Table.HeaderCell colSpan='6'>\r\n          <Button type='button' onClick={() => createBlog()}>新建</Button> \r\n          <Menu floated='right' pagination>\r\n            <Menu.Item as='a' icon>\r\n              <Icon name='chevron left' />\r\n            </Menu.Item>\r\n            <Menu.Item as='a'>1</Menu.Item>\r\n            <Menu.Item as='a'>2</Menu.Item>\r\n            <Menu.Item as='a'>3</Menu.Item>\r\n            <Menu.Item as='a'>4</Menu.Item>\r\n            <Menu.Item as='a' icon>\r\n              <Icon name='chevron right' />\r\n            </Menu.Item>\r\n          </Menu>\r\n        </Table.HeaderCell>\r\n      </Table.Row>\r\n    </Table.Footer>\r\n  </Table>\r\n  \r\n  </div>\r\n  )}\r\n\r\nexport default Blogs\r\n","import React from 'react'\nimport { Form, Button, Row, Col, InputGroup } from 'react-bootstrap';\nimport { Formik } from 'formik';\nimport * as yup from 'yup';\nimport { useHistory } from \"react-router-dom\";\nimport { ADD_BLOG } from '../query';\nimport { useMutation } from '@apollo/client';\n\nconst blogSchema = yup.object({\n  title: yup.string().required(),\n  content: yup.string().required(),\n});\n\n\nconst BlogForm = ({ createBlog }) => {\n  const history = useHistory();\n  const [ addBlog ] = useMutation(ADD_BLOG, {\n    onError: (error) => {\n      console.log(error)\n    }, \n  });\n  const submitNewBlog = (values) => {\n    addBlog({  variables: { title:values.title, content:values.content } })\n    history.push(\"/blogs\");\n  }\n\n  const back = () => {\n    history.push(\"/blogs\");\n  }\n\n  return (\n    <div className='formDiv'>\n      <Row>\n        <Col>\n          <img id='breadLogin' src={require('../img/loadingbread.gif')} alt='welcome' />\n        </Col>\n      <Col md={5}>\n        <h3>新建博客</h3>\n        \n        <Formik\n          validationSchema={blogSchema}\n          onSubmit={submitNewBlog}\n          initialValues={{\n            title: '',\n            content: '',\n          }}\n        >\n          {({\n            handleSubmit,\n            handleChange,\n            handleBlur,\n            values,\n            touched,\n            isValid,\n            errors,\n          }) => (\n          <Form noValidate onSubmit={handleSubmit}>\n            <Form.Label>标题</Form.Label>\n            <InputGroup>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"...\"\n                name=\"title\"\n                value={values.title}\n                onChange={handleChange}\n                isInvalid={!!errors.title}\n              />\n              <Form.Control.Feedback type='invalid' tooltip>{errors.title}</Form.Control.Feedback>\n            </InputGroup>\n            <Form.Label>内容</Form.Label>\n            <InputGroup>\n              \n              <Form.Control\n                as=\"textarea\"\n                rows='3'\n                type=\"text\"\n                placeholder=\"...\"\n                name=\"content\"\n                value={values.content}\n                onChange={handleChange}\n                isInvalid={!!errors.content}\n              />\n              <Form.Control.Feedback type='invalid' tooltip>{errors.content}</Form.Control.Feedback>\n            </InputGroup>\n            <br/>\n            <Button variant=\"outline-primary\" type='submit'>提交</Button>\n            <Button variant=\"outline-secondary\" type='button' onClick={back}>返回</Button>\n          </Form>)}\n        </Formik>\n        </Col>\n        <Col md={1}></Col>\n      </Row>\n    </div>\n  )\n}\n\n\nexport default BlogForm\n","import React, { useState } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch, Route, useHistory\n} from \"react-router-dom\";\nimport NavbarCom from './components/Navbar';\n// import Buttons from './components/Buttons';\nimport Headline from './components/Headline';\n// import EchartsTest from './components/Echarts';\nimport MainCharts from './components/MainCharts';\nimport { Container } from 'react-bootstrap';\nimport Collections from './components/Collections';\nimport TransAmap from './components/TransAmap';\nimport PowerCharts from './components/PowerCharts';\nimport Forum from './components/Forum';\nimport Login from './components/Login';\nimport Blogs from './components/Blogs';\nimport BlogForm from './components/CreateBlog';\nimport { useSubscription, useApolloClient } from '@apollo/client';\nimport { ALL_BLOGS, BLOG_ADDED } from './query';\nimport { gsap } from \"gsap\";\nimport { CSSRulePlugin } from \"gsap/CSSRulePlugin\";\nimport './css/index.css';\ngsap.registerPlugin(CSSRulePlugin);\n\n\nconst Alien = () => {\n  const history = useHistory();\n  setTimeout(()=>{\n    history.push('/');\n  },5000);\n  return(\n  <div className='alienBody'>\n    <p>Expel in 5 seconds!!</p>\n    <div class=\"alien\">\n      </div>\n  </div>\n  )\n};\n\nfunction App() {\n  \n  const [ scrollTop, setScrollTop ] = useState(0)\n  window.onscroll=()=>{\n    setScrollTop(document.documentElement.scrollTop);\n  }\n\n//token  \n\n\n\n//缓存处理\n  const client = useApolloClient()\n  const updateCacheWith = (addedBlog) => {\n    const includedIn = (set, object) => \n      set.map(b => b.title).includes(object.title)  \n\n    const dataInStore = client.readQuery({ query: ALL_BLOGS })\n    if (!includedIn(dataInStore.allBlogs, addedBlog)) {\n      console.log(dataInStore)\n      client.writeQuery({\n        query: ALL_BLOGS,\n        data: {...dataInStore, allBlogs : dataInStore.allBlogs.concat(addedBlog) }\n      })\n    }   \n  }\n\n  useSubscription(BLOG_ADDED, {\n    onSubscriptionData: ({ subscriptionData }) => {\n      const addedBlog = subscriptionData.data.blogAdded;\n      alert(`new book ${addedBlog.title} is added`);\n      updateCacheWith(addedBlog);\n    }\n  })\n  return (\n    <>\n    <Router>\n      <NavbarCom />\n      <Container>\n        <Switch>\n          <Route path=\"/hotpot\">\n            <Alien />\n          </Route>\n          <Route path=\"/forum\">\n            <Alien />\n          </Route>\n          <Route path=\"/blogs/createBlog\">\n            <BlogForm/>\n          </Route>\n          <Route path=\"/blogs\">\n            <Blogs/>\n          </Route>\n          <Route path=\"/data/power\">\n            <PowerCharts />\n          </Route>\n          <Route path=\"/data/transportation\">\n            <TransAmap />\n          </Route>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          <Route path=\"/\">\n            <Headline/>\n            <MainCharts scrollTop={scrollTop}/>\n            <Forum scrollTop={scrollTop}/>\n            <Collections scrollTop={scrollTop}/>\n          </Route>\n        </Switch>\n      </Container>\n    </Router>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport { setContext } from 'apollo-link-context'\n\nimport { \n  ApolloClient, ApolloProvider, HttpLink, InMemoryCache, from, split\n} from '@apollo/client' \nimport { onError } from \"@apollo/client/link/error\"\nimport { getMainDefinition } from '@apollo/client/utilities'\nimport { WebSocketLink } from '@apollo/link-ws'\n\nconst authLink = setContext((_, { headers }) => {\n  const token = localStorage.getItem('token')\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `bearer ${token}` : null,\n    }\n  }\n})\n\nconst errorLink = onError(({ graphQLErrors, networkError }) => {\n  if (graphQLErrors)\n    graphQLErrors.map(({ message, locations, path }) =>\n      console.log(\n        `[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`,\n      ),\n    );\n\n  if (networkError) console.log(`[Network error]: ${networkError}`);\n});\n\nconst httpLink = new HttpLink({\n    uri: 'http://localhost:4000/graphql'\n  })\n\nconst link = from([errorLink, httpLink])\n\nconst wsLink = new WebSocketLink({\n  uri: `ws://localhost:4000/graphql`,\n  options: {\n    reconnect: true\n  }\n})\nconst splitLink = split(\n  ({ query }) => {\n    const definition = getMainDefinition(query)\n    return (\n      definition.kind === 'OperationDefinition' &&\n      definition.operation === 'subscription'\n    );\n  },\n  wsLink,\n  authLink.concat(link),\n)\n\n\nconst client = new ApolloClient({\n  cache: new InMemoryCache(),\n  link: splitLink\n})\n\nReactDOM.render(\n    \n    <ApolloProvider client={client}>\n      <App />\n    </ApolloProvider>\n  ,\n    document.getElementById('root')\n  )\n\n\n"],"sourceRoot":""}